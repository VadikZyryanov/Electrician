(()=>{"use strict";(()=>{const e=document.querySelector("#callback"),t=document.querySelector(".modal-callback"),o=document.querySelector(".modal-overlay"),l=document.querySelectorAll(".element.relative"),n=document.querySelector(".button-services"),c=document.querySelectorAll(".img-wrapper"),r=e=>{const t=e.target;(t.classList.contains("modal-overlay")||t.closest(".modal-close"))&&a()},s=()=>{t.style.display="block",o.style.display="block",document.body.style.overflow="hidden",document.body.addEventListener("click",r)},a=()=>{t.style.display="none",o.style.display="none",document.body.style.overflow="auto",document.body.removeEventListener("click",r)},d=(e,t)=>{const o=document.createElement("div");o.classList.add("img-wrapper_text"),o.textContent="Оформить заявку",o.style.display="block",c[t].append(o),o.addEventListener("click",s),e.addEventListener("mouseleave",(()=>{o.style.display="none"}))};for(let e=0;e<l.length;e++)l[e].addEventListener("mouseenter",(t=>{const o=t.target;d(o,e)}));e.addEventListener("click",s),n.addEventListener("click",s)})(),document.querySelector(".top-menu").querySelectorAll("ul>li").forEach((e=>{const t=e.querySelector("a");t.addEventListener("click",(e=>{e.preventDefault(),(e=>{const t=document.querySelector(e),o=setInterval((()=>{let e=t.offsetTop-Math.floor(document.documentElement.scrollTop);e>0?document.documentElement.scrollTop+=e>50?10:1:e<0?document.documentElement.scrollTop-=e<-50?10:1:clearInterval(o)}),1)})(t.getAttribute("href"))}))})),(()=>{const e=document.querySelectorAll(".item");let t=0;setInterval((()=>{e[t].classList.remove("active-slider"),t++,t>=e.length&&(t=0),e[t].classList.add("active-slider")}),3e3)})(),(()=>{const e=document.querySelector(".services-carousel"),t=(document.querySelectorAll(".element.relative"),document.querySelector(".arrow-left")),o=document.querySelector(".arrow-right");let l=0;t.addEventListener("click",(()=>{l>0&&(--l,e.style.transform=`translateX(-${400*l}px)`)})),o.addEventListener("click",(()=>{l<3&&(++l,e.style.transform=`translateX(-${400*l}px)`)}))})(),(()=>{const e=document.querySelector(".title-h2"),t=document.querySelector(".up");t.style.display="block",t.addEventListener("click",(()=>{document.body.scrollIntoView({behavior:"smooth"})})),window.addEventListener("scroll",(()=>{document.documentElement.scrollTop>e.offsetTop-100?(t.style.display="block",t.addEventListener("click",(()=>{document.body.scrollIntoView({behavior:"smooth"})}))):t.style.display="none"}))})(),(()=>{const e=document.querySelector(".accordeon"),t=e.querySelectorAll(".element"),o=e.querySelectorAll(".element-content"),l=()=>{t.forEach((e=>{e.classList.remove("active")})),o.forEach((e=>{e.style.display="none"}))};document.body.addEventListener("click",(e=>{e.target.closest(".accordeon")||l()})),e.addEventListener("click",(e=>{const t=e.target;if(t.classList.contains("title")){const e=t.closest(".element"),n=e.querySelector(".element-content");e.classList.contains("active")?(o=n,e.classList.remove("active"),o.style.display="none"):((e,t)=>{l(),e.classList.add("active"),t.style.display="block"})(e,n)}var o}))})(),(()=>{const e=document.getElementById("form-callback"),t=document.createElement("section");t.className="section";(e=>{e.addEventListener("submit",(o=>{const l=e.querySelector(".form-control"),n=e.querySelector(".form-control.tel");let c=/.{11,}/;o.preventDefault(),t.innerHTML='\n                <div class="sk-rotating-plane"></div>\n            ',e.append(t);const r=new FormData(e);r.append("retut",JSON.stringify(l));"+"===n.value[0]&&(c=/.{12,}/),/[А-Яа-яЁё|\s]{2,50}/.test(l.value)&&c.test(n.value)?setTimeout((()=>(e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:e}))(r).then((e=>{if(200!==e.status)throw new Error("status network not 200");t.textContent="Спасибо, мы скоро с вами свяжемся.",l.value="",n.value=""})).catch((e=>{t.textContent="Что-то пошло не так...",console.error(e)}))),3e3):t.textContent="Проверь имя, адрес почты, телефон"}))})(e)})()})();