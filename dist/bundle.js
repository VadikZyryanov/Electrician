(()=>{"use strict";var e,t,n,o,l,c,r,a,u,s;(function(){for(var e=document.querySelector("#callback"),t=document.querySelector(".modal-callback"),n=document.querySelector(".modal-overlay"),o=document.querySelectorAll(".element.relative"),l=document.querySelector(".button-services"),c=document.querySelectorAll(".img-wrapper"),r=function(e){var t=e.target;(t.classList.contains("modal-overlay")||t.closest(".modal-close"))&&u()},a=function(e){e.preventDefault(),t.style.display="block",n.style.display="block",document.body.style.overflow="hidden",document.body.addEventListener("click",r)},u=function(){t.style.display="none",n.style.display="none",document.body.style.overflow="auto",document.body.removeEventListener("click",r)},s=function(e){o[e].addEventListener("mouseenter",(function(t){!function(e,t){console.log(e);var n=document.createElement("div");n.classList.add("img-wrapper_text"),n.textContent="Оформить заявку",n.style.display="block",c[t].append(n),n.addEventListener("click",a),e.addEventListener("mouseleave",(function(){n.remove()}))}(t.target,e)})),o[e].addEventListener("click",(function(e){e.preventDefault()}))},i=0;i<o.length;i++)s(i);e.addEventListener("click",a),l.addEventListener("click",a)})(),document.querySelector(".top-menu").querySelectorAll("ul>li").forEach((function(e){var t=e.querySelector("a");t.addEventListener("click",(function(e){var n,o,l;e.preventDefault(),n=t.getAttribute("href"),o=document.querySelector(n),l=setInterval((function(){var e=o.offsetTop-Math.floor(document.documentElement.scrollTop);e>0?document.documentElement.scrollTop+=e>50?10:1:e<0?document.documentElement.scrollTop-=e<-50?10:1:clearInterval(l)}),1)}))})),u=document.querySelectorAll(".item"),s=0,setInterval((function(){u[s].classList.remove("active-slider"),++s>=u.length&&(s=0),u[s].classList.add("active-slider")}),3e3),function(){var e=document.querySelector(".services-carousel"),t=(document.querySelectorAll(".element.relative"),document.querySelector(".arrow-left")),n=document.querySelector(".arrow-right"),o=0;t.addEventListener("click",(function(){o>0&&(--o,e.style.transform="translateX(-".concat(400*o,"px)"))})),n.addEventListener("click",(function(){o<3&&(++o,e.style.transform="translateX(-".concat(400*o,"px)"))}))}(),r=document.querySelector(".title-h2"),(a=document.querySelector(".up")).style.display="block",a.addEventListener("click",(function(){document.body.scrollIntoView({behavior:"smooth"})})),window.addEventListener("scroll",(function(){document.documentElement.scrollTop>r.offsetTop-100?(a.style.display="block",a.addEventListener("click",(function(){document.body.scrollIntoView({behavior:"smooth"})}))):a.style.display="none"})),n=document.querySelector(".accordeon"),o=n.querySelectorAll(".element"),l=n.querySelectorAll(".element-content"),c=function(){o.forEach((function(e){e.classList.remove("active")})),l.forEach((function(e){e.style.display="none"}))},document.body.addEventListener("click",(function(e){e.target.closest(".accordeon")||c()})),n.addEventListener("click",(function(e){var t,n=e.target;if(n.classList.contains("title")){var o=n.closest(".element"),l=o.querySelector(".element-content");o.classList.contains("active")?(t=l,o.classList.remove("active"),t.style.display="none"):function(e,t){c(),e.classList.add("active"),t.style.display="block"}(o,l)}})),e=document.querySelector(".form-control"),t=document.querySelector(".form-control.tel"),e.addEventListener("input",(function(){var t;(t=e).value=t.value.replace(/[^А-Яа-яЁё|\s]/g,""),t.addEventListener("blur",(function(){t.value=t.value.replace(/\s+/g," "),t.value=t.value.replace(/\-+/g,"-"),t.value=t.value.replace(/^-+|-+$/g,""),t.value=t.value.trim();for(var e=t.value.split(" "),n=0;n<e.length;n++)e[n]=e[n][0].toUpperCase()+e[n].slice(1).toLowerCase();t.value=e.join(" ")}))})),t.addEventListener("input",(function(){var e;(e=t).value=e.value.replace(/[^0-9|\+]/g,""),e.addEventListener("blur",(function(){e.value=e.value.replace(/^-+|-+$/g,"")}))})),function(){var e=document.getElementById("form-callback"),t=document.createElement("section");t.className="section";!function(e){e.addEventListener("submit",(function(n){var o=e.querySelector(".form-control"),l=e.querySelector(".form-control.tel"),c=/.{11,}/;n.preventDefault(),t.innerHTML='\n                <div class="sk-rotating-plane"></div>\n            ',e.append(t);var r={name:o.value,phone:l.value};console.log(r);var a=new FormData(e);a.append("json",JSON.stringify(r)),"+"===l.value[0]&&(c=/.{12,}/),/[А-Яа-яЁё|\s]{2,50}/.test(o.value)&&c.test(l.value)?setTimeout((function(){return function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:e})}(a).then((function(e){if(200!==e.status)throw new Error("status network not 200");t.textContent="Спасибо, мы скоро с вами свяжемся.",o.value="",l.value=""})).catch((function(e){t.textContent="Что-то пошло не так...",console.error(e)}))}),3e3):t.textContent="Проверь имя, адрес почты, телефон"}))}(e)}()})();